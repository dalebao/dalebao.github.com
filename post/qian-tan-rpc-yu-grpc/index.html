<!DOCTYPE html>
<html>
  <head lang="zh">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<meta content="telephone=no" name="format-detection"/>
<meta name="renderer" content="webkit">
<meta name="description" content="çŸ¥è€»ä¸”æ€‚ï¼">
<meta http-equiv="Access-Control-Allow-Origin" content="*">

<title>æµ…è°ˆ rpc ä¸ grpc | Damn Genuis&#39;s</title>
<link href="https://dalebao.github.io/styles/main.css" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="//cdn.bootcss.com/KaTeX/0.10.2/katex.min.css"/>
<script src="//cdn.bootcss.com/KaTeX/0.10.2/katex.min.js"></script>
<script src="//cdn.bootcss.com/KaTeX/0.10.2/contrib/auto-render.min.js"></script>
<script type="text/javascript" src="https://dalebao.github.io/media/scripts/jquery.js"></script>
<script type="text/javascript" src="https://dalebao.github.io/media/scripts/jquery.pjax.min.js"></script>
<script type="text/javascript" src="https://dalebao.github.io/media/scripts/basic.js"></script>
<script type="text/javascript" src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script async type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script type="text/javascript" src="https://cdn.bootcss.com/lightgallery/1.6.12/js/lightgallery.min.js"></script>
<script src="https://cdn.bootcss.com/tocbot/4.8.1/tocbot.js"></script>

  </head>
  <body>
     <div class="header">
      <div class="logo_title">
		  
        <div class="title animated fadeInDown"><img id="img1" alt="logo" style="display:inline-block;" src="https://dalebao.github.io/images/avatar.png"/>
<script>
var r = 0;
    window.onload = function(){
        var current = 0;
        document.getElementById('img1').onclick = function(){
            current = (current+90)%360;
            this.style.transform = 'rotate('+current+'deg)';
        }
    };
</script>

          <h1 title="Damn Genuis&#39;s" class="weaklink"><a  href="/">Damn Genuis&#39;s</a>

          </h1>
	  

          <div class="navbar weaklink">
            <div class="normal_nav">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
		
      <ul class="mixed_site_nav site_nav sm sm-base">
	  
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a>
  </li>
  
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a>
  </li>
  
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a>
  </li>
  
 
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a>
  </li>
  
 
 <li>

      </ul>
	  

      <div class="clear clear_nav_inline_end"></div>
    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

            </div>
			
			<div class="hamberger"><i class="fa fa-bars"></i>
<i class="fa fa-times"></i>

			</div>

          </div>

        </div>

      </div>

      <div class="hidden_nav animated fadeInDown">

<div class="bitcron_nav_container">


  <div class="bitcron_nav">
    <div class="mixed_site_nav_wrap site_nav_wrap">
      <ul class="mixed_site_nav site_nav sm sm-base">
	
  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a>

  </li>


  <li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a>

  </li>




      </ul>

      <div class="clear clear_nav_inline_end"></div>
    </div>

  </div>



  <div class="clear clear_nav_end"></div>

</div>

      </div>

    </div>


    <div class="main" id="pjax-container">
      <div class="main-inner">
<div class="content">
<style>.toc{overflow-y:auto}.toc>.toc-list{overflow:hidden;position:relative}.toc>.toc-list li{list-style:none}.toc-list{margin:0;padding-left:10px}a.toc-link{color:currentColor;height:100%}.is-collapsible{max-height:1000px;overflow:hidden;transition:all 300ms ease-in-out}.is-collapsed{max-height:0}.is-position-fixed{position:fixed !important;top:0}.is-active-link{font-weight:700}.toc-link::before{background-color:#EEE;content:' ';display:inline-block;height:inherit;left:0;margin-top:-1px;position:absolute;width:2px}.is-active-link::before{background-color:#54BC4B}</style>
  <div class="post_page" >
<div class="post">
  <div class="post_title sm_margin">
    <h2><a>æµ…è°ˆ rpc ä¸ grpc</a>
    </h2>
  </div>
<script>
function lan(){
	if (document.getElementById("lan").innerText == "ç¹"){
		var s=document.getElementById("tongwenlet_cn");
		if(s != null){
		document.body.removeChild(s);
		}
		var s = document.createElement("script");
		s.language = "javascript";
		s.type = "text/javascript";
		s.src = "https://git.oschina.net/runningcheese/JiathisQR.js/raw/master/bookmarklet_tw.js";
		s.id = "tongwenlet_cn";
		document.body.appendChild(s);
		document.getElementById("lan").innerHTML = "ç®€"
	}
	else if(document.getElementById("lan").innerText == "ç°¡"){
		var s=document.getElementById("tongwenlet_cn");
		if(s != null){
		document.body.removeChild(s);
		}
		var s = document.createElement("script");
		s.language = "javascript";
		s.type = "text/javascript";
		s.src = "https://git.oschina.net/runningcheese/JiathisQR.js/raw/master/bookmarklet_cn.js";
		s.id = "tongwenlet_cn";
		document.body.appendChild(s);
		document.getElementById("lan").innerHTML = "ç¹"
		}
}

function change(){	
    var rand = Math.random()*1+1;
    var num = window.getComputedStyle(document.getElementsByName("show")[0],undefined).fontSize;
	num = num.slice(0,-2); 
    document.getElementById("show").style.fontSize = num - rand +'px';
}
</script>
  <div class="post_details">
    <div class="info"><i class="fa fa-calendar"></i>
<span class="date_info">2019-11-02</span>
<i class="fa fa-eye"></i>
<span class="date_info"><span id="busuanzi_value_page_pv"></span> Views</span>
<i class="fa fa-bookmark-o"></i>
<span class="tags_info weaklink">
	
	<a href="https://dalebao.github.io/tag/golang" class="tag">golang</a>

	<a href="https://dalebao.github.io/tag/rpc" class="tag">rpc</a>

	<a href="https://dalebao.github.io/tag/grpc" class="tag">grpc</a>

	<a href="https://dalebao.github.io/tag/xie-yi" class="tag">åè®®</a>

</span>
<i class="fa fa-anchor"></i>
<span style="margin-right:15px">
2467å­—
</span>
<i class="fa fa-clock-o"></i>
<span style="margin-right:15px">
10 min read
</span>
<span style="margin-right:15px">
<i class="fa fa-share"></i>
<a title="QR code" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://dalebao.github.io/post/qian-tan-rpc-yu-grpc"><i class="fa fa-qrcode"></i></a>
<a title="qq share" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://dalebao.github.io/post/qian-tan-rpc-yu-grpc&sharesource=qzone&title=æµ…è°ˆ rpc ä¸ grpc&pics=https://blog.blinkstar.cn/images/avatar.png&summary="><i class="fa fa-qq"></i></a>
<a title="weibo share" target="_blank" href="https://service.weibo.com/share/share.php?url=https://dalebao.github.io/post/qian-tan-rpc-yu-grpc&sharesource=weibo&title=æµ…è°ˆ rpc ä¸ grpc + " - " + &pic="https://blog.blinkstar.cn/images/avatar.png"><i class="fa fa-weibo"></i></a>
</span>
<span style="margin-right:15px">
<a id="daxiao" href="javascript:void(0);" onclick="change();" title="è°ƒæ•´å­—ä½“å¤§å°"><i class="fa fa-font"></i></a>
</span>
<span style="margin-right:15px">
<a id="lan" href="javascript:void(0);" onclick="lan();" title="è°ƒæ•´ç®€ç¹ä½“">ç¹</a>
</span>
</div>
  </div>

    <div class="post_content markdown">
	
	<div style="background-image: url('http://111.231.85.55/img/c.jpg');background-repeat: no-repeat;background-size:100% auto;margin-top:32px;padding-bottom: 50%;"></div>
	
    <div name="show" id="show">
	<p class="md_block"><span class="md_line md_line_start md_line_end"><h2 id="ä»€ä¹ˆæ˜¯-rpc">ä»€ä¹ˆæ˜¯ RPC</h2>
<blockquote>
<p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97">åˆ†å¸ƒå¼è®¡ç®—</a><strong>ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨</strong>ï¼ˆè‹±è¯­ï¼šRemote Procedure Callï¼Œç¼©å†™ä¸º RPCï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E7%B5%A1%E5%82%B3%E8%BC%B8%E5%8D%94%E8%AD%B0">åè®®</a>ã€‚è¯¥åè®®å…è®¸è¿è¡Œäºä¸€å°è®¡ç®—æœºçš„<a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BA%8F">ç¨‹åº</a>è°ƒç”¨å¦ä¸€ä¸ª<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4">åœ°å€ç©ºé—´</a>ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªå¼€æ”¾ç½‘ç»œçš„ä¸€å°è®¡ç®—æœºï¼‰çš„<a href="https://zh.wikipedia.org/wiki/%E5%AD%90%E7%A8%8B%E5%BA%8F">å­ç¨‹åº</a>ï¼Œè€Œç¨‹åºå‘˜å°±åƒè°ƒç”¨æœ¬åœ°ç¨‹åºä¸€æ ·ï¼Œæ— éœ€é¢å¤–åœ°ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ï¼ˆæ— éœ€å…³æ³¨ç»†èŠ‚ï¼‰ã€‚RPCæ˜¯ä¸€ç§æœåŠ¡å™¨-å®¢æˆ·ç«¯ï¼ˆClient/Serverï¼‰æ¨¡å¼ï¼Œç»å…¸å®ç°æ˜¯ä¸€ä¸ªé€šè¿‡<strong>å‘é€è¯·æ±‚-æ¥å—å›åº”</strong>è¿›è¡Œä¿¡æ¯äº¤äº’çš„ç³»ç»Ÿã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœæ¶‰åŠçš„è½¯ä»¶é‡‡ç”¨<a href="https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B">é¢å‘å¯¹è±¡ç¼–ç¨‹</a>ï¼Œé‚£ä¹ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨äº¦å¯ç§°ä½œ<strong>è¿œç¨‹è°ƒç”¨</strong>æˆ–<strong>è¿œç¨‹æ–¹æ³•è°ƒç”¨</strong>ï¼Œä¾‹ï¼š<a href="https://zh.wikipedia.org/wiki/Java_RMI">Java RMI</a>ã€‚</p>
</blockquote>
<blockquote>
<p>PRCæ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1">è¿›ç¨‹é—´é€šä¿¡</a>çš„æ¨¡å¼ï¼Œç¨‹åºåˆ†å¸ƒåœ¨ä¸åŒçš„<a href="https://zh.wikipedia.org/wiki/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4">åœ°å€ç©ºé—´</a>é‡Œã€‚å¦‚æœåœ¨åŒä¸€ä¸»æœºé‡Œï¼ŒPRCå¯ä»¥é€šè¿‡ä¸åŒçš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆå³ä¾¿ä½¿ç”¨ç›¸åŒçš„ç‰©ç†åœ°å€ï¼‰è¿›è¡Œé€šè®¯ï¼Œè€Œåœ¨ä¸åŒçš„ä¸»æœºé—´ï¼Œåˆ™é€šè¿‡ä¸åŒçš„ç‰©ç†è¿›è¡Œäº¤äº’ã€‚è®¸å¤šæŠ€æœ¯ï¼ˆå¸¸å¸¸æ˜¯ä¸å…¼å®¹ï¼‰éƒ½æ˜¯åŸºäºè¿™ç§æ¦‚å¿µè€Œå®ç°çš„ã€‚</p>
<p>â€‹																																			------- from wikipedia</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œ<code>rpc</code> å°±æ˜¯åœ¨æœ¬åœ°åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ä¸Šçš„å‡½æ•°ï¼Œä¸¾ä¸ªæ —å­ï¼ˆgrpcä¸¾ä¾‹ï¼‰ï¼š</p>
<p>è¿œç¨‹ <code>server</code> ä¸Šå®šä¹‰å‡½æ•°</p>
<pre><code class="language-go">package main

import (
	&quot;context&quot;
	pb &quot;github.com/dalebao/grpc_demo/proto&quot;
	&quot;google.golang.org/grpc&quot;
	&quot;log&quot;
	&quot;net&quot;
)

type SearchService struct {
}

//å®šä¹‰Searchå‡½æ•°
func (s *SearchService) Search(ctx context.Context, r *pb.SearchRequest) (*pb.SearchResponse, error) {
	return &amp;pb.SearchResponse{Response: r.GetRequest() + &quot; Server&quot;}, nil
}


const PORT = &quot;9001&quot;

func main() {
	server := grpc.NewServer()
  //æ³¨å†Œ
	pb.RegisterSearchServiceServer(server, &amp;SearchService{})

	lis, err := net.Listen(&quot;tcp&quot;, &quot;:&quot;+PORT)
	if err != nil {
		log.Fatalf(&quot;net.Listen err: %v&quot;, err)
	}

	server.Serve(lis)
}
</code></pre>
<p><code>client</code> ç«¯è°ƒç”¨ï¼š</p>
<pre><code class="language-go">package main

import (
	&quot;context&quot;
	&quot;log&quot;

	&quot;google.golang.org/grpc&quot;
	//å®šä¹‰çš„grpc protocol
	pb &quot;github.com/dalebao/grpc_demo/proto&quot;
)

const PORT = &quot;9001&quot;

func main() {
	conn, err := grpc.Dial(&quot;:&quot;+PORT, grpc.WithInsecure())
	if err != nil {
		log.Fatalf(&quot;grpc.Dial err: %v&quot;, err)
	}
	defer conn.Close()

	client := pb.NewSearchServiceClient(conn)
  //è°ƒç”¨è¿œç¨‹Searchå‡½æ•°
	resp, err := client.Search(context.Background(), &amp;pb.SearchRequest{
		Request: &quot;gRPC1&quot;,
	})
	if err != nil {
		log.Fatalf(&quot;client.Search err: %v&quot;, err)
	}

	log.Printf(&quot;resp: %s&quot;, resp.GetResponse())
}
</code></pre>
<p>ç®€å•æ„Ÿå—ä¸€ä¸‹ <code>grpc</code> çš„è°ƒç”¨è¿‡ç¨‹ã€‚</p>
<h2 id="rpc-ä¸-http">RPC ä¸ HTTP</h2>
<ol>
<li>
<p>ä¼ è¾“åè®®</p>
<ul>
<li><code>rpc</code> : å¯ä»¥åŸºäº <code>tcp</code> ä¹Ÿå¯ä»¥åŸºäº <code>http</code></li>
<li><code>http</code>: åŸºäº <code>http</code> åè®®</li>
</ul>
</li>
<li>
<p>ä¼ è¾“æ•ˆç‡</p>
<ul>
<li><code>rpc</code> : å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ <code>tcp</code> åè®®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>http2</code> åè®®ï¼Œå‡å°æŠ¥æ–‡çš„ä½“ç§¯ã€‚</li>
<li><code>http</code>ï¼šåŸºäº <code>http 1.1</code>ï¼Œè¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šæ— ç”¨ä¿¡æ¯ï¼Œä½¿ç”¨ <code>http2</code> åè®®ï¼Œå¯ä»¥å½“æˆæ˜¯ä¸€ç§ <code>rpc</code></li>
</ul>
</li>
<li>
<p>æ€§èƒ½æ¶ˆè€—</p>
<ul>
<li><code>rpc</code>ï¼šå¯ä»¥åŸºäº<code>thrift</code>å®ç°é«˜æ•ˆçš„äºŒè¿›åˆ¶ä¼ è¾“</li>
<li><code>http</code>: å¤§éƒ¨åˆ†æ˜¯é€šè¿‡<code>json</code>æ¥å®ç°çš„ï¼Œå­—èŠ‚å¤§å°å’Œåºåˆ—åŒ–è€—æ—¶éƒ½æ¯”<code>thrift</code> è¦æ›´æ¶ˆè€—æ€§èƒ½</li>
</ul>
</li>
<li>
<p>è´Ÿè½½å‡è¡¡</p>
<ul>
<li><code>rpc</code>: åŸºæœ¬è‡ªå¸¦</li>
<li><code>http</code>: éœ€è¦<code>nginx</code>ç­‰å·¥å…·å®ç°</li>
</ul>
</li>
<li>
<p>æœåŠ¡æ²»ç†</p>
<ul>
<li><code>rpc</code>: èƒ½åšåˆ°è‡ªåŠ¨é€šçŸ¥ï¼Œä¸å½±å“ä¸Šæ¸¸</li>
<li><code>http</code>: éœ€è¦äº‹å…ˆé€šçŸ¥ï¼Œä¿®æ”¹<code>nginx</code> é…ç½®</li>
</ul>
</li>
</ol>
<p>æ€»ç»“ï¼š <code>rpc</code> ä¸»è¦ç”¨äºç³»ç»Ÿå†…éƒ¨çš„ç›¸äº’è°ƒç”¨ï¼Œæ‹¥æœ‰ä¼ è¾“æ•ˆç‡é«˜ï¼Œæ€§èƒ½é«˜ç­‰ä¼˜ç‚¹ã€‚<code>http</code> åè®®ç”¨äºå¯¹å¤–çš„<code>api</code> æ„å»ºã€‚</p>
<h2 id="rpc-ä¸-http-api-è°ƒç”¨çš„æµç¨‹åŒºåˆ«">RPC ä¸ HTTP Api è°ƒç”¨çš„æµç¨‹åŒºåˆ«</h2>
<p>åœ¨å®šä¹‰å¥½ä¹‹å client ä¸ server ä¹‹é—´çš„æ²Ÿé€šæ–¹å¼ï¼ˆå¦‚jsonï¼‰ä¹‹åï¼Œä½¿ç”¨ rpc  ä¸ æ™®é€š http api åœ¨è°ƒç”¨æ–¹çš„å¤„ç†é€»è¾‘æœ‰æ¯”è¾ƒå¤§åŒºåˆ«ã€‚ rpc å¯ä»¥æ›´å¥½çš„å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ä¸è€ƒè™‘è¯·æ±‚å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ http api æ²Ÿé€šçš„ client æ‹¿åˆ°æœåŠ¡å™¨è¿”å›çš„æ•°æ®éœ€è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<pre><code class="language-flow">st=&gt;start: è·å–è¿”å›jsonæ•°æ®
e=&gt;end: è·å–æ­£ç¡®ï¼Œå¼€å§‹ä¸šåŠ¡é€»è¾‘å¤„ç†
op1=&gt;operation: è§£æjsonä¸²
op1_c=&gt;condition: è§£ææ˜¯å¦æ­£ç¡®
op2_c=&gt;condition: æ•°æ®æ˜¯å¦æ­£ç¡®
sub1=&gt;subroutine: My Subroutine
para=&gt;parallel: æŠ›å‡ºå¼‚å¸¸

st-&gt;op1-&gt;op1_c
op1_c(yes)-&gt;op2_c
op1_c(no)-&gt;para
op2_c(yes)-&gt;e
op2_c(no)-&gt;para

</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è·å– server è¿”å›çš„æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ•°æ®æ˜¯å¦æ˜¯é¢„å…ˆå®šä¹‰çš„æ²Ÿé€šæ–¹å¼ã€‚åœ¨åˆ¤æ–­æ•°æ®ä¸åŒçš„æ—¶å€™ï¼Œéœ€è¦å¯¹ä¸åŒçš„ api åšå¾ˆå¤šé€‚é…ã€‚</p>
<p>åŒæ ·åœ¨è¯·æ±‚ server çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿéœ€è¦æŒ‰ç…§ http åè®®çš„æ¨¡å¼ï¼Œå¡«å†™ header ç­‰ï¼Œè€Œä¸”å­˜åœ¨ä¸åŒè¯·æ±‚æ–¹å¼çš„åŒºåˆ«ï¼Œåœ¨ä»£ç ä¸­ä½“ç°å¾ˆå¤šä¸šåŠ¡ä¸ç›¸å…³çš„ç»†èŠ‚ã€‚</p>
<p>ä½†æ˜¯ï¼Œrpc çš„è°ƒç”¨ä¸æ”¾ä¸éœ€è¦åœ¨ä»£ç ä¸­è€ƒè™‘è¿™äº›ç»†èŠ‚ã€‚æˆ‘ä»¬ä¼šé¢„å…ˆè®¾è®¡å¥½ server ä¸ client æ²Ÿé€šçš„æ•°æ®ç»“æ„ï¼Œåœ¨è°ƒç”¨çš„è¿‡ç¨‹ä¸­ï¼Œclientåªè¦ä¼ è¾“ç»™serveré¢„å®šå¥½çš„æ•°æ®ç»“æ„ï¼Œé‚£ä¹ˆä¹Ÿå°†ä¼šè·å¾—å¯¹åº”çš„æ•°æ®ã€‚</p>
<h2 id="grpc">GRPC</h2>
<p><code>gRpc</code> æ˜¯è°·æ­Œå¼€æºçš„ä¸€ä¸ªé€šç”¨ <code>rpc</code> æ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>å¼ºå¤§çš„<code>IDL</code>ï¼Œä½¿ç”¨<code>Protocol Buffers</code>ä½œä¸ºæ•°æ®äº¤æ¢çš„æ ¼å¼ï¼Œæ”¯æŒ<code>v2</code>ã€<code>v3</code>ï¼ˆæ¨è<code>v3</code>ï¼‰</p>
</li>
<li>
<p>è·¨è¯­è¨€ã€è·¨å¹³å°ï¼Œä¹Ÿå°±æ˜¯<code>gRpc</code>æ”¯æŒå¤šç§å¹³å°å’Œè¯­è¨€</p>
</li>
<li>
<p>æ”¯æŒ <strong>HTTP2</strong> ï¼ŒåŒå‘ä¼ è¾“ã€å¤šè·¯å¤ç”¨ã€è®¤è¯ç­‰</p>
</li>
</ul>
<blockquote>
<p>IDLé€šè¿‡ä¸€ç§ä¸­ç«‹çš„æ–¹å¼æ¥æè¿°æ¥å£ï¼Œä½¿å¾—åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œçš„å¯¹è±¡å’Œç”¨ä¸åŒè¯­è¨€ç¼–å†™çš„ç¨‹åºå¯ä»¥ç›¸äº’é€šä¿¡äº¤æµï¼›æ¯”å¦‚ï¼Œä¸€ä¸ªç»„ä»¶ç”¨<a href="https://zh.wikipedia.org/wiki/C%2B%2B">C++</a>å†™æˆï¼Œå¦ä¸€ä¸ªç»„ä»¶ç”¨<a href="https://zh.wikipedia.org/wiki/Java">Java</a>å†™æˆã€‚</p>
</blockquote>
<p>ç®€å•æ¥è®² gRPC æ˜¯ä¸€ä¸ª åŸºäº HTTP/2 åè®®è®¾è®¡çš„ RPC æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨äº† Protobuf ä½œä¸º IDL</p>
<h3 id="å®‰è£…grpc">å®‰è£…gRpc</h3>
<pre><code class="language-shell">$ go get -u google.golang.org/grpc
</code></pre>
<h3 id="å¸¸è§çš„-rpc-æ¡†æ¶å¯¹æ¯”">å¸¸è§çš„ RPC æ¡†æ¶å¯¹æ¯”</h3>
<table>
<thead>
<tr>
<th>\</th>
<th style="text-align:center">è·¨è¯­è¨€</th>
<th style="text-align:center">å¤š IDL</th>
<th style="text-align:center">æœåŠ¡æ²»ç†</th>
<th style="text-align:center">æ³¨å†Œä¸­å¿ƒ</th>
<th style="text-align:center">æœåŠ¡ç®¡ç†</th>
</tr>
</thead>
<tbody>
<tr>
<td>gRpc</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td>Thrift</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">Ã—</td>
</tr>
<tr>
<td>Rpcx</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
</tr>
<tr>
<td>Dubbo</td>
<td style="text-align:center">Ã—</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
<td style="text-align:center">âˆš</td>
</tr>
</tbody>
</table>
<h3 id="protobuf">Protobuf</h3>
<p>Protocol Buffers æ˜¯ä¸€ç§ä¸è¯­è¨€ã€å¹³å°æ— å…³ï¼Œå¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„åŒ–æ•°æ®çš„æ–¹æ³•ï¼Œå¸¸ç”¨äºé€šä¿¡åè®®ï¼Œæ•°æ®å­˜å‚¨ç­‰ç­‰ã€‚ç›¸è¾ƒäº JSONã€XMLï¼Œå®ƒæ›´å°ã€æ›´å¿«ã€æ›´ç®€å•ï¼Œå› æ­¤ä¹Ÿæ›´å—å¼€å‘äººå‘˜çš„é’çœ¯ã€‚</p>
<p>è¯­æ³•å¦‚ä¸‹:</p>
<p>search.proto</p>
<pre><code class="language-proto3">syntax = &quot;proto3&quot;;

package proto;
//å®šä¹‰æœåŠ¡ç»“æ„ä½“
service SearchService {
    rpc Search(SearchRequest) returns (SearchResponse) {}
}

//å®šä¹‰è¯·æ±‚ç»“æ„ä½“
message SearchRequest {
    string request = 1;
}

//å®šä¹‰å“åº”ç»“æ„ä½“
message SearchResponse {
    string response = 1;
}
</code></pre>
<p>Protobuf ç¼–è¯‘å™¨ä¼šæ ¹æ®é€‰æ‹©çš„è¯­è¨€ä¸åŒï¼Œç”Ÿæˆç›¸åº”è¯­è¨€çš„ Service Interface Code å’Œ Stubsã€‚</p>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3">è¯¦ç»†çš„è¯­æ³•</a></p>
<h4 id="protocol-buffers-v3-å®‰è£…">Protocol Buffers v3 å®‰è£…</h4>
<pre><code class="language-shell">wget https://github.com/google/protobuf/releases/download/v3.5.1/protobuf-all-3.5.1.zip
unzip protobuf-all-3.5.1.zip
cd protobuf-3.5.1/
./configure
make
make install
</code></pre>
<h4 id="protocol-plugin">Protocol plugin</h4>
<pre><code class="language-shell">go get -u github.com/golang/protobuf/protoc-gen-go
</code></pre>
<h4 id="ç¼–è¯‘æˆgoè¯­è¨€">ç¼–è¯‘æˆgoè¯­è¨€</h4>
<p>åœ¨<code>search.proto</code>æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<pre><code class="language-shell">protoc --go_out=plugins=grpc:. *.proto
</code></pre>
<ul>
<li>æ¶‰åŠåˆ°<code>rpc</code>æœåŠ¡ï¼Œåœ¨<code>plugins</code> åé¢æŒ‡å®š<code>grpc</code></li>
</ul>
<p>ä¼šå¾—åˆ°ä¸€ä¸ª<code>*.pb.go</code> æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä¸€ä¸ªç¬¦åˆ<code>grpc</code> è§„èŒƒçš„ <code>go</code> ä»£ç ã€‚</p>
<h3 id="grpcè°ƒç”¨è¿‡ç¨‹æ¦‚è§ˆ">gRpcè°ƒç”¨è¿‡ç¨‹æ¦‚è§ˆ</h3>
<figure data-type="image" tabindex="1"><img src="http://111.231.85.55/img/guocheng.png" alt="" loading="lazy"></figure>
<ol>
<li>å®¢æˆ·ç«¯ï¼ˆgRPC Subï¼‰è°ƒç”¨ A æ–¹æ³•ï¼Œå‘èµ· RPC è°ƒç”¨</li>
<li>å¯¹è¯·æ±‚ä¿¡æ¯ä½¿ç”¨ Protobuf è¿›è¡Œå¯¹è±¡åºåˆ—åŒ–å‹ç¼©ï¼ˆIDLï¼‰</li>
<li>æœåŠ¡ç«¯ï¼ˆgRPC Serverï¼‰æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè§£ç è¯·æ±‚ä½“ï¼Œè¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†å¹¶è¿”å›</li>
<li>å¯¹å“åº”ç»“æœä½¿ç”¨ Protobuf è¿›è¡Œå¯¹è±¡åºåˆ—åŒ–å‹ç¼©ï¼ˆIDLï¼‰</li>
<li>å®¢æˆ·ç«¯æ¥å—åˆ°æœåŠ¡ç«¯å“åº”ï¼Œè§£ç è¯·æ±‚ä½“ã€‚å›è°ƒè¢«è°ƒç”¨çš„ A æ–¹æ³•ï¼Œå”¤é†’æ­£åœ¨ç­‰å¾…å“åº”ï¼ˆé˜»å¡ï¼‰çš„å®¢æˆ·ç«¯è°ƒç”¨å¹¶è¿”å›å“åº”ç»“æœ</li>
</ol>
<h3 id="grpc-æµçš„ä¸‰ç§ç±»å‹">gRPC æµçš„ä¸‰ç§ç±»å‹</h3>
<ul>
<li>
<p>Server-side streaming RPCï¼šæœåŠ¡å™¨ç«¯æµå¼ RPC</p>
</li>
<li>
<p>Client-side streaming RPCï¼šå®¢æˆ·ç«¯æµå¼ RPC</p>
</li>
<li>
<p>Bidirectional streaming RPCï¼šåŒå‘æµå¼ RPC</p>
</li>
</ul>
<p>æµçš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³å¤§è§„æ¨¡æ•°æ®åŒ…ä¸å®æ—¶åœºæ™¯çš„éœ€æ±‚ã€‚</p>
<ol>
<li>
<p>æœåŠ¡ç«¯æµå¼ RPC</p>
<p>å®¢æˆ·ç«¯å‘èµ·ä¸€æ¬¡ <code>rpc</code> è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å‘é€å¤šæ¬¡å“åº”</p>
</li>
<li>
<p>å®¢æˆ·ç«¯æµå¼ RPC</p>
<p>å®¢æˆ·ç«¯å‘èµ·å¤šæ¬¡<code>rpc</code> è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”ä¸€æ¬¡</p>
</li>
<li>
<p>åŒå‘æµå¼ RPC</p>
<p>ç”±å®¢æˆ·ç«¯ä»¥æµå¼çš„æ–¹å¼å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯åŒæ ·ä»¥æµå¼çš„æ–¹å¼å“åº”è¯·æ±‚</p>
<p>é¦–ä¸ªè¯·æ±‚ä¸€å®šæ˜¯ Client å‘èµ·ï¼Œä½†å…·ä½“äº¤äº’æ–¹å¼ï¼ˆè°å…ˆè°åã€ä¸€æ¬¡å‘å¤šå°‘ã€å“åº”å¤šå°‘ã€ä»€ä¹ˆæ—¶å€™å…³é—­ï¼‰æ ¹æ®ç¨‹åºç¼–å†™çš„æ–¹å¼æ¥ç¡®å®šï¼ˆå¯ä»¥ç»“åˆåç¨‹ï¼‰</p>
</li>
</ol>
<p>å®ç°çœ‹ä»£ç </p>
<h2 id="å®‰å…¨">å®‰å…¨</h2>
<ol>
<li>
<p>ä¸ºäº†é¿å… grpc è¯·æ±‚è¿‡ç¨‹ä¸­çš„æ•°æ®è£¸å¥”åœ¨ç½‘ç»œä¸­ï¼Œrpcå¯ä»¥ä½¿ç”¨ TLS åŠ å¯†ã€‚</p>
</li>
<li>
<p>å¦‚æœå¸Œæœ›è¯¥ grpc æœåŠ¡ï¼Œè·å¾—è®¤è¯è¯·æ±‚çš„èƒ½åŠ›ï¼Œå¯ä»¥å¯¹æœåŠ¡åšè‡ªå®šä¹‰çš„è®¤è¯ã€‚</p>
</li>
</ol>
<p>å®ç°çœ‹ä»£ç </p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>grpc æ‹¥æœ‰ è°ƒç”¨æ–¹ä¾¿ã€ä¼ è¾“é€Ÿåº¦å¿«ç­‰ä¼˜ç‚¹ã€‚åŒæ—¶ï¼Œç”±äº grpc ä½¿ç”¨ http2.0 åè®®ï¼Œæ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®è¿›è¡Œç›‘å¬ï¼Œåˆ†æåè®®ï¼Œå°±å¯ä»¥å®ç°è®©æœåŠ¡åŒæ—¶æä¾› http api æœåŠ¡ã€‚</p>
<p>grpc çš„ä½¿ç”¨åœºæ™¯ä¸°å¯Œï¼Œå¯ä»¥æ˜¯æ™®é€šçš„æ¥å£è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤§é‡æ•°æ®çš„æµä¼ è¾“ã€‚è·¨è¯­è¨€çš„ç‰¹æ€§ï¼Œå¯ä»¥å¿«é€Ÿçš„è®©å„ç§è¯­è¨€å¯¹æ¥è¿›æœåŠ¡ä¸­æ¥ã€‚</p>
<p>ä½†ï¼Œgrpc ä¸é€‚åˆç”¨äºå¯¹å¤–çš„æœåŠ¡ä½¿ç”¨ã€‚æ¯”è¾ƒé€‚åˆåœ¨å†…éƒ¨ç³»ç»Ÿä¸­çš„é¡¹ç›®ä¹‹é—´ä½¿ç”¨ã€‚</p>
<h2 id="http-11-ä¸-http2">http 1.1 ä¸ http2</h2>
<ul>
<li><strong>æ–°çš„äºŒè¿›åˆ¶æ ¼å¼</strong>ï¼ˆBinary Formatï¼‰ï¼ŒHTTP1.xçš„è§£ææ˜¯åŸºäºæ–‡æœ¬ã€‚åŸºäºæ–‡æœ¬åè®®çš„æ ¼å¼è§£æå­˜åœ¨å¤©ç„¶ç¼ºé™·ï¼Œæ–‡æœ¬çš„è¡¨ç°å½¢å¼æœ‰å¤šæ ·æ€§ï¼Œè¦åšåˆ°å¥å£®æ€§è€ƒè™‘çš„åœºæ™¯å¿…ç„¶å¾ˆå¤šï¼ŒäºŒè¿›åˆ¶åˆ™ä¸åŒï¼Œåªè®¤0å’Œ1çš„ç»„åˆã€‚åŸºäºè¿™ç§è€ƒè™‘HTTP2.0çš„åè®®è§£æå†³å®šé‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼Œå®ç°æ–¹ä¾¿ä¸”å¥å£®ã€‚</li>
<li><strong>å¤šè·¯å¤ç”¨</strong>ï¼ˆMultiPlexingï¼‰ï¼Œå³è¿æ¥å…±äº«ï¼Œå³æ¯ä¸€ä¸ªrequestéƒ½æ˜¯æ˜¯ç”¨ä½œè¿æ¥å…±äº«æœºåˆ¶çš„ã€‚ä¸€ä¸ªrequestå¯¹åº”ä¸€ä¸ªidï¼Œè¿™æ ·ä¸€ä¸ªè¿æ¥ä¸Šå¯ä»¥æœ‰å¤šä¸ªrequestï¼Œæ¯ä¸ªè¿æ¥çš„requestå¯ä»¥éšæœºçš„æ··æ‚åœ¨ä¸€èµ·ï¼Œæ¥æ”¶æ–¹å¯ä»¥æ ¹æ®requestçš„ idå°†requestå†å½’å±åˆ°å„è‡ªä¸åŒçš„æœåŠ¡ç«¯è¯·æ±‚é‡Œé¢ã€‚</li>
<li><strong>headerå‹ç¼©</strong>ï¼Œå¦‚ä¸Šæ–‡ä¸­æ‰€è¨€ï¼Œå¯¹å‰é¢æåˆ°è¿‡HTTP1.xçš„headerå¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ï¼ŒHTTP2.0ä½¿ç”¨encoderæ¥å‡å°‘éœ€è¦ä¼ è¾“çš„headerå¤§å°ï¼Œé€šè®¯åŒæ–¹å„è‡ªcacheä¸€ä»½header fieldsè¡¨ï¼Œæ—¢é¿å…äº†é‡å¤headerçš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“çš„å¤§å°ã€‚</li>
<li><strong>æœåŠ¡ç«¯æ¨é€</strong>ï¼ˆserver pushï¼‰ï¼ŒåŒSPDYä¸€æ ·ï¼ŒHTTP2.0ä¹Ÿå…·æœ‰server pushåŠŸèƒ½ã€‚</li>
</ul>
<p><a href="https://juejin.im/entry/5981c5df518825359a2b9476">åŒºåˆ«</a></p>
</span></p></div><div id = "warn"></div>
	<br>
	<hr>
<div style="color: #ccc;font-size:14px;"><i class="fa fa-user"></i>æœ¬æ–‡ç”±<a rel="license" href="/">Damn Genuis&#39;s</a>åˆ›ä½œ</div>	
<div style="color: #ccc;font-size:14px;"><i class="fa fa-cc"></i>è¯¥æ–‡ç« é‡‡ç”¨<a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</div>
<div style="color: #ccc;font-size:14px;"><i class="fa fa-clock-o"></i>å‘å¸ƒæ—¶é—´ä¸ºï¼š2019-11-02</div>    
<p class="md_block">
<div class="reward"><div class="reward-button">èµ <span class="reward-code"> <span class="alipay-code"> <img class="alipay-img" alt = "support" src="https://dalebao.github.io/media/images/alipay.png"><b>æ”¯ä»˜å®æ‰«ç æ‰“èµ</b> </span> <span class="wechat-code"> <img alt ="support" class="wechat-img" src="https://dalebao.github.io/media/images/wechat.png"><b>å¾®ä¿¡æ‰“èµ</b> </span> </span></div></div>
<div style="text-align:center;color: #ccc;font-size:14px;">å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¯ä»¥è¯·ä½œè€…å–ä¸€æ¯é¥®æ–™å“¦ğŸ¥¤</div>    
</p> 
</div>
</div>

<style type="text/css">
#mememe {
	border:3px;
	border-radius:5px;
    background-repeat: no-repeat;
    height: 100%;
	width: 100%;
	display: inline-block;
	border-radius:5px; 
}
</style>

<div style="width:100%;overflow:hidden">

          <div style="float:right;text-align:right;color:#ccc;font-size:18px;width:50%;">
            ä¸‹ä¸€ç¯‡
            <a href="https://dalebao.github.io/post/shi-yong-golang-gou-jian-redis-cli">
              <p class="post-title">
                <b>ä½¿ç”¨golangæ„å»ºredis-cli</b>
              </p>
            </a>
          </div>



</div>

<div class="doc_comments">

          
			<div id="gitalk-container"></div>
            <link href="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css" rel="stylesheet">
<script>
  var gitalk = new Gitalk({
    clientID: '2818813a33ae562a560a',
    clientSecret: 'd1d6aefddb78de832a3dc767e84cacb25349c281',
    repo: 'dalebao.github.io',
    owner: 'dalebao',
    admin: ['dalebao'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>


          
			  
          
        
</div>
<script>
var link="";$("img").each((i,o)=>{var o=$(o);if(o.attr("src").indexOf("sinaimg")>0||o.attr("src").indexOf("qpic")>0||o.attr("src").indexOf("baidu")>0||o.attr("src").indexOf("sinaimg")>0){o.attr("referrerpolicy","no-referrer");link=o.attr("src");o.attr("src",link);}});
imgList = document.querySelectorAll('img')
imgList.forEach(img => {
  if (img.alt !== "logo" && img.alt !== "featureimg"){
  let div1 = document.createElement('div')
  let div = document.createElement('div')
  div.className='back';
  div.setAttribute("data-src",img.src)
  var figuration = document.createElement("figcaption")
  figuration.innerHTML = '<a href="' + img.src + '">' + img.alt + '</a>'
  img.replaceWith(div1)
  div1.appendChild(div)
  div.appendChild(img)
  div1.appendChild(figuration)}
})
$('img').on('error',function(){$(this).prop('src','https://dalebao.github.io/media/images/broken.jpg')});$("a").attr("rel","external nofollow");$("a[rel='external nofollow']").attr("target","_blank");$("a[href^='#']").removeAttr("target");$("a.ex").removeAttr("rel");$("a.ex").removeAttr("target");
content="<div class='warn'>æœ¬æ–‡æœ€åæ›´æ–°äº2019-11-02ï¼Œå·²è¶…è¿‡ 1 å¹´æ²¡æœ‰æ›´æ–°ï¼Œæ¶‰åŠçš„å†…å®¹å¯èƒ½å·²ç»å¤±æ•ˆï¼</div>";var date1="2019-11-02 12:55:54";date1=date1.replace("-","/");var date2=new Date();var date3=date2.getTime()-new Date(date1).getTime();var days=Math.floor(date3/(24*3600*1000));if(days>=365){document.getElementById("warn").innerHTML=content};
$('#pjax-container').lightGallery({
    selector: '.back'
});
tocbot.init({
	tocSelector: '.toc',
	contentSelector: '.main-inner',
	headingSelector: 'h1, h2, h3, h4, h5',
	positionFixedSelector: ".toc",
	scrollSmooth: true,
	fixedSidebarOffset: 'auto',
    scrollSmoothOffset: -80,
    headingsOffset: -500
});
</script>
  </div>
</div>


      </div>
<div class="toc-container">
<ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-rpc">ä»€ä¹ˆæ˜¯ RPC</a></li>
<li><a href="#rpc-%E4%B8%8E-http">RPC ä¸ HTTP</a></li>
<li><a href="#rpc-%E4%B8%8E-http-api-%E8%B0%83%E7%94%A8%E7%9A%84%E6%B5%81%E7%A8%8B%E5%8C%BA%E5%88%AB">RPC ä¸ HTTP Api è°ƒç”¨çš„æµç¨‹åŒºåˆ«</a></li>
<li><a href="#grpc">GRPC</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85grpc">å®‰è£…gRpc</a></li>
<li><a href="#%E5%B8%B8%E8%A7%81%E7%9A%84-rpc-%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94">å¸¸è§çš„ RPC æ¡†æ¶å¯¹æ¯”</a></li>
<li><a href="#protobuf">Protobuf</a>
<ul>
<li><a href="#protocol-buffers-v3-%E5%AE%89%E8%A3%85">Protocol Buffers v3 å®‰è£…</a></li>
<li><a href="#protocol-plugin">Protocol plugin</a></li>
<li><a href="#%E7%BC%96%E8%AF%91%E6%88%90go%E8%AF%AD%E8%A8%80">ç¼–è¯‘æˆgoè¯­è¨€</a></li>
</ul>
</li>
<li><a href="#grpc%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E6%A6%82%E8%A7%88">gRpcè°ƒç”¨è¿‡ç¨‹æ¦‚è§ˆ</a></li>
<li><a href="#grpc-%E6%B5%81%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B">gRPC æµçš„ä¸‰ç§ç±»å‹</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E5%85%A8">å®‰å…¨</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
<li><a href="#http-11-%E4%B8%8E-http2">http 1.1 ä¸ http2</a></li>
</ul>
</li>
</ul>

</div>
    </div>
	
   <div class="footer">
<div class="site_footer_wrap"><div class="site_footer">

      <div class="mysocials"><div class="my_socials">
		   
			   
    
			   
    
			   
    
			   
    
			   
    
			   
    
</div>
      </div>

      <div class="copyright" id="copyright">
	  <script>
		var date=new Date;
		var year=date.getFullYear(); 
		document.write("Copyright Â© "+year+" " + "Damn Genuis&#39;s. ");
		</script>
		Powered by Gridea.
		<br>
		æœ¬ç«™å·²ç¨³å®šè¿è¡Œäº†
		<strong><script type="text/javascript">
		var urodz= new Date("10/28/2018");
		var now = new Date();
		var ile = now.getTime() - urodz.getTime();
		var dni = Math.floor(ile / (1000 * 60 * 60 * 24));
		document.write(+dni)
		</script>
		</strong>å¤©
		<br>
		æœ¬ç«™æ€»è®¿é—®é‡ä¸º <strong><span id="busuanzi_value_site_uv"></span></strong> æ¬¡
	  Powered by <a href="https://github.com/dalebao" target="_blank">Dale</a>
      </div>
	  <img src="https://dalebao.github.io/media/images/font.svg">

    </div>

<script type="text/javascript" src="https://dalebao.github.io/media/scripts/love.js"></script>
<script type="text/javascript" src="https://dalebao.github.io/media/scripts/darkmode.js"></script>
<script>
new Darkmode({label: 'ğŸŒ“',backgroundColor: '#f7f7f7',time: '0.5s'}).showWidget();
console.clear();
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script>
hljs.initHighlightingOnLoad();
</script>


</body>

</html>
